# Benchmark Results (исправленный)

## Полная матрица результатов

| N | Dim | Storage | Write (s) | Read (s) | Size |
|---|-----|---------|-----------|----------|------|
| 100k | 128 | RocksDB | 0.48 | 0.16 | 55.1 MB |
| 100k | 128 | LMDB | 0.22 | 0.07 | 93.4 MB |
| 100k | 128 | SQLite | 0.32 | 0.23 | 55.9 MB |
| 100k | 128 | Redis | 0.74 | 0.48 | 54.0 MB |
| 200k | 128 | RocksDB | 0.95 | 0.52 | 110.3 MB |
| 200k | 128 | LMDB | 0.35 | 0.14 | 144.9 MB |
| 200k | 128 | SQLite | 0.64 | 0.44 | 111.9 MB |
| 200k | 128 | Redis | 1.42 | 1.03 | 109.4 MB |
| 500k | 128 | RocksDB | 2.22 | 1.88 | 393.9 MB |
| 500k | 128 | LMDB | 0.93 | 0.44 | 399.1 MB |
| 500k | 128 | SQLite | 1.43 | 1.09 | 279.7 MB |
| 500k | 128 | Redis | 3.77 | 2.73 | 276.0 MB |
| 1000k | 128 | RocksDB | 4.61 | 4.19 | 776.2 MB |
| 1000k | 128 | LMDB | 2.67 | 1.00 | 947.2 MB |
| 1000k | 128 | SQLite | 3.20 | 2.22 | 559.4 MB |
| 1000k | 128 | Redis | 8.13 | 5.83 | 553.4 MB |
| 100k | 256 | RocksDB | 0.55 | 0.21 | 104.2 MB |
| 100k | 256 | LMDB | 0.18 | 0.07 | 164.0 MB |
| 100k | 256 | SQLite | 0.55 | 0.23 | 130.5 MB |
| 100k | 256 | Redis | 0.73 | 0.47 | 147.1 MB |
| 200k | 256 | RocksDB | 0.97 | 0.52 | 208.6 MB |
| 200k | 256 | LMDB | 0.38 | 0.16 | 249.9 MB |
| 200k | 256 | SQLite | 1.05 | 0.46 | 261.1 MB |
| 200k | 256 | Redis | 1.49 | 1.06 | 294.1 MB |
| 500k | 256 | RocksDB | 2.54 | 1.80 | 547.4 MB |
| 500k | 256 | LMDB | 1.44 | 0.50 | 870.1 MB |
| 500k | 256 | SQLite | 3.20 | 1.18 | 652.7 MB |
| 500k | 256 | Redis | 4.26 | 3.00 | 735.3 MB |
| 1000k | 256 | RocksDB | 4.83 | 4.49 | 1.1 GB |
| 1000k | 256 | LMDB | 3.34 | 1.08 | 1.5 GB |
| 1000k | 256 | SQLite | 7.94 | 2.65 | 1.3 GB |

## Лидеры по чтению

| N | Dim | Лидер | Read (s) | 2-е место | Read (s) |
|---|-----|-------|----------|-----------|----------|
| 100k | 128 | LMDB | 0.07 | RocksDB | 0.16 |
| 200k | 128 | LMDB | 0.14 | SQLite | 0.44 |
| 500k | 128 | LMDB | 0.44 | SQLite | 1.09 |
| 1000k | 128 | LMDB | 1.00 | SQLite | 2.22 |
| 100k | 256 | LMDB | 0.07 | RocksDB | 0.21 |
| 200k | 256 | LMDB | 0.16 | SQLite | 0.46 |
| 500k | 256 | LMDB | 0.50 | SQLite | 1.18 |
| 1000k | 256 | LMDB | 1.08 | SQLite | 2.65 |

## Лидеры по записи

| N | Dim | Лидер | Write (s) | 2-е место | Write (s) |
|---|-----|-------|-----------|-----------|-----------|
| 100k | 128 | LMDB | 0.22 | SQLite | 0.32 |
| 500k | 128 | LMDB | 0.93 | SQLite | 1.43 |
| 1000k | 128 | LMDB | 2.67 | SQLite | 3.20 |
| 1000k | 256 | LMDB | 3.34 | RocksDB | 4.83 |

## Размер на диске (1M записей)

| Storage | dim=128 | dim=256 | Overhead vs SQLite |
|---------|---------|---------|-------------------|
| SQLite | 559.4 MB | 1.3 GB | baseline |
| Redis | 553.4 MB | — | -1% |
| RocksDB | 776.2 MB | 1.1 GB | +39% / -15% |
| LMDB | 947.2 MB | 1.5 GB | +69% / +15% |

## Выводы

| Критерий | Лидер | Комментарий |
|----------|-------|-------------|
| **Скорость чтения** | LMDB | В 4x быстрее RocksDB на 1M записей |
| **Скорость записи** | LMDB | Стабильно лучший |
| **Размер на диске** | SQLite/Redis | LMDB +70% overhead |
| **Стабильность** | LMDB | Линейное масштабирование |

## Рекомендации

| Сценарий | Выбор |
|----------|-------|
| Read-heavy (поиск векторов) | **LMDB** |
| Ограничен диск | **SQLite** |
| Сетевой доступ | **Redis** (до 500k записей) |
| Текущий выбор (RocksDB) | Рассмотреть миграцию на LMDB |

**Итог**: LMDB — лучший выбор для VectorDB с read-heavy нагрузкой.
